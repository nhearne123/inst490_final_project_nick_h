<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Fruits</title>
    <link rel="stylesheet" href="style.css" />

    <!-- JS Library #1: Swiper (slider) -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
  </head>
  <body>
    <div class="page-container">
      <!-- HEADER BOX -->
      <section class="box header-box">
        <h1>ğŸ Fruit Database</h1>
        <p>Browse nutrition data from the Fruityvice REST API</p>
      </section>

      <!-- NAV BOX -->
      <section class="box nav-box">
        <a href="index.html">Home</a>
        <a href="fruits.html">Fruits</a>
        <a href="about.html">About</a>
      </section>

      <!-- LOAD + SEARCH -->
      <section class="box">
        <button id="loadFruits">Load Fruits</button>

        <div class="controls">
          <div>
            <label for="fruitSelect"><strong>Pick a fruit:</strong></label>
            <select id="fruitSelect">
              <option value="">(Load fruits first)</option>
            </select>
          </div>

          <button id="viewFruitBtn" class="secondary-btn">View Details</button>
        </div>

        <p id="statusMsg" class="status"></p>
      </section>

      <!-- SLIDER (Swiper) -->
      <section class="box">
        <h3 class="section-title">âœ¨ Featured Fruits (Swiper Library)</h3>

        <div class="swiper" id="fruitSwiper">
          <div class="swiper-wrapper" id="swiperWrapper"></div>

          <div class="swiper-pagination"></div>
          <div class="swiper-button-prev"></div>
          <div class="swiper-button-next"></div>
        </div>
      </section>

      <!-- DETAILS -->
      <section class="box">
        <h3 class="section-title">ğŸ‰ Fruit Details</h3>
        <div id="fruitDetails" class="details-card">
          <p class="muted">Load fruits, pick one, then click â€œView Detailsâ€.</p>
        </div>

        <!-- NEW: quick save button -->
        <div class="center" style="margin-top: 12px;">
          <button id="quickSaveBtn" class="secondary-btn" disabled>
            â­ Save Selected Fruit to Favorites
          </button>
        </div>
      </section>

      <!-- CHART (Chart.js) -->
      <section class="box">
        <h3 class="section-title">ğŸ“Š Nutrition Chart (Chart.js Library)</h3>
        <div class="chart-wrap">
          <canvas id="nutritionChart"></canvas>
        </div>
      </section>

      <!-- NEW: FAVORITES (SUPABASE) -->
      <section class="box">
        <h3 class="section-title">â­ Favorite Fruits (Saved to Supabase)</h3>
        <p class="muted">
          Pick a fruit, then save it here. These favorites come from your database.
        </p>

        <form id="favoriteForm" class="form-grid">
          <input id="favFruitName" placeholder="Fruit name" required />
          <input id="favNotes" placeholder="Notes (optional)" />
          <button type="submit" class="secondary-btn">Save Favorite</button>
        </form>

        <p id="favMsg" class="status"></p>

        <div class="center" style="margin-top: 12px;">
          <button id="loadFavoritesBtn">Load Favorites</button>
        </div>

        <div id="favoritesList" style="margin-top: 12px;"></div>
      </section>

      <!-- FOOTER BOX -->
      <section class="box footer-box">
        <p>Live data provided by Fruityvice API</p>
      </section>
    </div>

    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <!-- JS Library #2: Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

    <script src="app.js"></script>
  </body>
</html>
